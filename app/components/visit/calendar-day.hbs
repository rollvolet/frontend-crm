<div id="unplanned-requests-container" class="p-6 bg-gray-50/50 border-b border-gray-200 hidden">
  <h4 class="text-gray-700 text-sm uppercase tracking-wide">
    Aanvragen om in te plannen
  </h4>

  <div class="mt-4 flex flex-wrap items-stretch gap-2">
    {{#if this.loadUnplannedRequests.isRunning}}
      <div class="flex items-center justify-center h-16 w-full">
        <Util::LoadingSpinner />
      </div>
    {{else}}
      {{#each this.requests as |request|}}
        <DraggableObject @content={{hash request=request}}>
          <Visit::CalendarDay::Event @request={{request}} />
        </DraggableObject>
      {{else}}
        <p class="text-gray-400 text-sm italic">Er zijn geen aanvragen meer om in te plannen</p>
      {{/each}}

      <DraggableObject @content={{hash title="Free text"}}>
        <div class="bg-orange-50 rounded-lg px-1 py-1 text-xs leading-5">
          <div class="flex items-center justify-center mx-6 my-6 space-x-1">
            {{svg-jar "add-line" class="h-4 w-4 text-orange-400"}}
            <div class="text-orange-700 font-semibold">Vrije afspraak</div>
          </div>
        </div>
      </DraggableObject>
    {{/if}}
  </div>
</div>

<DraggableObjectTarget @action={{this.dropRequestOnCalendar}}>
  <div
    {{did-insert (perform this.renderCalendar)}}
    class={{if this.loadEventsAndResources.isRunning "animate-pulse"}}>
    {{#if this.renderCalendar.isRunning}}
      <div class="h-32">
        <Util::LoadingSpinner />
      </div>
    {{/if}}
    {{!-- Calendar will be rendered here --}}
  </div>
</DraggableObjectTarget>

{{#if this.isOpenAddResourceModal}}
  <Visit::CalendarDay::AddResourceModal
    @onClose={{this.closeAddResourceModal}}
    @onSave={{perform this.addResourceToCalendar}} />
{{/if}}

{{#if this.isOpenFreeTextTimeSlotModal}}
  <Visit::CalendarDay::FreeTextTimeSlotModal
    @model={{this.freeTextTimeSlot}}
    @onClose={{this.closeFreeTextTimeSlotModal}}
    @onSave={{perform this.saveFreeTextTimeSlot}} />
{{/if}}