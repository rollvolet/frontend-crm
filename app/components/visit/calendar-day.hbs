<div id="toolbar-center-container" class="flex flex-row items-start space-x-3 hidden">
  <div class="-mt-0.5">
    {{#if @model.isVisitsFull}}
      <Rlv::Pill @label="Volzet" @color="red" @onClick={{this.toggleStatus}} />
    {{else}}
      <Rlv::Pill @label="Vrij" @color="green" @onClick={{this.toggleStatus}} />
    {{/if}}
  </div>
  <Visit::CalendarDay::Note
    @value={{@model.comment}}
    @onSave={{this.saveComment}} />
</div>

<div id="unplanned-requests-container" class="px-6 pt-2 pb-4 bg-gray-50/50 border-b border-gray-200 hidden">
  <p class="text-gray-400 italic text-xs">
    Sleep aanvragen naar de agenda om ze in te plannen
  </p>

  <div class="mt-4 flex flex-wrap items-stretch gap-2">
    {{#if this.loadUnplannedRequests.isRunning}}
      <div class="flex items-center justify-center h-16 w-full">
        <Util::LoadingSpinner />
      </div>
    {{else}}
      {{#each this.requests as |request|}}
        <DraggableObject @content={{hash request=request}}>
          <Visit::CalendarDay::Event @request={{request}} />
        </DraggableObject>
      {{/each}}

      <DraggableObject @content={{hash title="Free text"}}>
        <div class="bg-orange-50 rounded-lg px-1 py-1 text-xs leading-5">
          <div class="flex items-center justify-center mx-6 my-6 space-x-1">
            {{svg-jar "add-line" class="h-4 w-4 text-orange-400"}}
            <div class="text-orange-700 font-semibold">Vrije afspraak</div>
          </div>
        </div>
      </DraggableObject>
    {{/if}}
  </div>
</div>

<DraggableObjectTarget @action={{this.dropRequestOnCalendar}}>
  <div
    {{did-insert (perform this.renderCalendar)}}
    class={{if this.loadEventsAndResources.isRunning "animate-pulse"}}>
    {{#if this.renderCalendar.isRunning}}
      <div class="h-32">
        <Util::LoadingSpinner />
      </div>
    {{/if}}
    {{!-- Calendar will be rendered here --}}
  </div>
</DraggableObjectTarget>

{{#if this.isOpenAddResourceModal}}
  <Visit::CalendarDay::AddResourceModal
    @onClose={{this.closeAddResourceModal}}
    @onSave={{perform this.addResourceToCalendar}} />
{{/if}}

{{#if this.isOpenFreeTextTimeSlotModal}}
  <Visit::CalendarDay::FreeTextTimeSlotModal
    @model={{this.freeTextTimeSlot}}
    @onClose={{this.closeFreeTextTimeSlotModal}}
    @onSave={{perform this.saveFreeTextTimeSlot}} />
{{/if}}