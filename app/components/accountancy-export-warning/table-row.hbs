{{#if this.invoice.isResolved}}
  {{#let this.invoice.value as |invoice|}}
    <tr>
      <td class="px-2 py-4 text-sm text-gray-500">
        <div class="flex items-center space-x-1">
          <Invoice::PaymentStatusIcon
            @isPaid={{invoice.paymentDate}}
            @isBooked={{invoice.bookingDate}} />
          <Rlv::Button
            @label={{format-invoice-number invoice.number}}
            @route={{concat "main." @invoice.type ".edit"}}
            @model={{invoice.uuid}}
            @skin="secondary-link"
            class="text-gray-500" />
        </div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
        <div class="flex items-center space-x-1">
          <span>{{format-case-number invoice.case.identifier}}</span>
          <Case::StatusIcon @uri={{invoice.case.status}} />
        </div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
        <Fmt::Date @value={{invoice.invoiceDate}} />
      </td>
      <td class="px-6 py-4 text-sm font-medium text-gray-900">
        <Fmt::CustomerAndBuildingName
          @case={{hash customer=invoice.customer building=invoice.building}} />
      </td>
      <td class="px-6 py-4 text-sm text-gray-500">
        <Address::DetailView @model={{or invoice.building invoice.customer}} />
      </td>
      <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
        <Rlv::Button
          @label="Manueel inboeken"
          @skin="link"
          {{on "click" this.openBookingConfirmationModal}} />
      </td>
    </tr>
  {{/let}}

  {{#if this.isOpenBookingConfirmationModal}}
    <Rlv::Modal @onClose={{this.cancelBookingConfirmation}}>
      <:body>
        <div class="sm:flex sm:items-start">
          <div class="mx-auto flex-none flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
            {{svg-jar "alert-fill" class="h-6 w-6 text-red-600 fill-current"}}
          </div>
          <div class="mt-3 grow text-center sm:mt-0 sm:ml-4 sm:text-left">
            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">
              Factuur inboeken
            </h3>
            <div class="mt-2 space-y-4">
              <p class="text-sm text-gray-500">
                Bent u zeker dat u factuur {{format-invoice-number this.invoice.value.number}} manueel wil inboeken?
              </p>
              <p class="text-sm text-gray-500">
                Zo ja, dient u de factuur zelf in te voeren in het boekhoudsysteem. Dit zal niet automatisch gebeuren.
              </p>
            </div>
          </div>
        </div>
      </:body>
      <:footer>
        <Rlv::Button
          @label="Inboeken"
          @isLoading={{this.confirmBooking.isRunning}}
          @skin="primary"
          class="ml-2"
          {{on "click" (perform this.confirmBooking)}} />
      </:footer>
    </Rlv::Modal>
  {{/if}}
{{/if}}
